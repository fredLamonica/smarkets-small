<div class="form-row" [formGroup]="form">
  <div class="form-group required  col-3">
    <label for="idEstado"> Estado </label>
    <ng-select
      [items]="estadosSelecionaveis"
      bindLabel="nome"
      bindValue="idEstado"
      [hideSelected]="false"
      name="idEstado"
      formControlName="idEstado">
    </ng-select>
    <span class="invalid" *ngIf="form.controls.idEstado.invalid && form.controls.idEstado.dirty">Preenchimento
      obrigatório</span>
  </div>
  <div class="form-group required  col-3">
    <label for="valorMinimoPedido">Valor mínimo do pedido</label>
    <input
      type="text"
      class="form-control"
      [textMask]="{mask: maskValor, guide: false}"
      formControlName="valorMinimoPedido">
    <span class="invalid"
      *ngIf="form.controls.valorMinimoPedido.invalid && form.controls.valorMinimoPedido.dirty">Preenchimento
      obrigatório</span>
  </div>

  <div class="form-group mt-1 col-2">
    <label for="idEstado"> </label>
    <button *ngIf="!modoEdicao" role=button class="btn btn-block btn-primary include" [class.disabled]="form.invalid"
      (click)="incluir()">
      <i class="fas fa-plus"></i> Incluir
    </button>
    <button *ngIf="modoEdicao" role=button class="btn btn-block btn-primary save" [class.disabled]="form.invalid"
      (click)="salvar()">
      <i class="fas fa-save"></i> Salvar
    </button>
  </div>
</div>
<div class="row mb-3">
  <div class="col-0 pad-lef">
    <button role=button class="btn btn-block edition" [class.disabled]="!selecionados?.length || selecionados?.length > 1 || modoEdicao" ngbTooltip="Editar" (click)="editar()">
      <i class="fas fa-edit"></i>
    </button>
  </div>
  <div class="col-0 pad-lef">
    <button role=button ngbTooltip="Remover" class="btn btn-block btn-danger" [class.disabled]="!selecionados?.length || modoEdicao"
      (click)="solicitarExclusao()">
      <i class="fas fa-trash-alt"></i>
    </button>
  </div>
  <div class="col-0 pad-lef" *ngIf="exibeAprovacao">
    <button role=button ngbTooltip="Reajuste" class="btn btn-block btn-primary" (click)="reajusteItem()">
      <i class="fas fa-sync"></i>
    </button>
  </div>
  <div class="col d-flex justify-content-end">
      <div class="col-0 pad-lef" *ngIf="possuiAprovacao && !exibeBotaoAprovacao">
        <button role=button ngbTooltip="Aprovar Todos" [class.disabled]="desabiliteBotaoAprovacao" class="btn btn-block btn-success" (click)="analiseFaturamentos(analiseAprovacao.aprovado)">
          <i class="fas fa-thumbs-up"></i>
        </button>
      </div>
      <div class="col-0 pad-lef" *ngIf="possuiAprovacao && !exibeBotaoAprovacao">
        <button role=button ngbTooltip="Reprovar Todos" [class.disabled]="desabiliteBotaoAprovacao" class="btn btn-block btn-danger" (click)="analiseFaturamentos(analiseAprovacao.reprovado)">
          <i class="fas fa-thumbs-down"></i>
        </button>
      </div>
      <div class="col-0 pad-lef" *ngIf="(selecionados?.length && desabiliteBotaoQuandoAprovacao) || modoEdicao ">
        <button role=button ngbTooltip="Ativar" class="btn btn-block btn-success"
          (click)="alterarSituacao(Situacao.Ativo)">
          <i class="fas fa-check"></i>
        </button>
      </div>
      <div class="col-0 pad-lef" *ngIf="(selecionados?.length && desabiliteBotaoQuandoAprovacao) || modoEdicao ">
        <button role=button ngbTooltip="Desativar" class="btn btn-block btn-danger"
          (click)="alterarSituacao(Situacao.Inativo)">
          <i class="fas fa-times"></i>
        </button>
      </div>
  </div>
</div>
<div class="row">
  <div class="col">
    <custom-table classes="table-striped table-sm" [settings]="settings" [source]="faturamentos" (select)="selecao($event)"
      not-found="Nenhum Estado foi configurado" [class.disabled]="modoEdicao"></custom-table>
    <pager [page]="pagina" [total-pages]="totalPaginas" [records-per-page]="itensPorPagina"
      (pagination)="paginacao($event)" [class.disabled]="modoEdicao"></pager>
  </div>
</div>
