<div class="card card-tab-content">
  <div class="card-header"></div>
  <div class="card-body">
    <div class="container-fluid no-bounds">
      <div
        class="bg-white border-bottom row py-4"
        *ngIf="!itensAcompanhamentos?.length; else hasItens"
      >
        <div class="col no-content" translate>GENERAL.NO_RECORDS_FOUND</div>
      </div>
      <ng-template #hasItens>
        <!-- LISTA -->
        <div class="bg-lighter border-bottom row d-none d-md-flex px-md-0 py-2">
          <div class="col-2 px-md-1">
            <div class="row-10-col">
              <div class="col-2 px-md-1">
                <label
                  class="font-weight-bold text-small"
                  data-toggle="tooltip"
                  data-placement="bottom"
                  title="Tipo da RC"
                  >TpRC</label
                >
              </div>
              <div class="col-4 px-md-1">
                <label
                  class="font-weight-bold text-small"
                  data-toggle="tooltip"
                  data-placement="bottom"
                  title="Código da RC"
                  >RC</label
                >
              </div>
              <div class="col-4 px-md-1">
                <label
                  class="font-weight-bold text-small"
                  data-toggle="tooltip"
                  data-placement="bottom"
                  title="Código Item RC"
                  >Cód. Item</label
                >
              </div>
            </div>
          </div>

          <div class="col-2 px-md-1">
            <div class="row">
              <div class="col-7 px-md-1">
                <label
                  class="font-weight-bold text-small"
                  data-toggle="tooltip"
                  data-placement="bottom"
                  title="Descrição do Item RC"
                  >Descrição</label
                >
              </div>
              <div class="col-5 px-md-1">
                <label
                  class="font-weight-bold text-small"
                  data-toggle="tooltip"
                  data-placement="bottom"
                  title="Código do Fornecedor"
                  >CódFornec</label
                >
              </div>
            </div>
          </div>

          <div class="col-2 px-md-1">
            <div class="row">
              <div class="col-1 px-md-1">
                <label
                  class="font-weight-bold text-small"
                  data-toggle="tooltip"
                  data-placement="bottom"
                  title="Classificação Contábil"
                  >CC</label
                >
              </div>
              <div class="col-3 px-md-1">
                <label
                  class="font-weight-bold text-small"
                  data-toggle="tooltip"
                  data-placement="bottom"
                  title="Grupo de Compradores"
                  >GC</label
                >
              </div>
              <div class="col-6 px-md-1">
                <label
                  class="font-weight-bold text-small"
                  data-toggle="tooltip"
                  data-placement="bottom"
                  title="Categoria da Demanda"
                  >Categoria Demanda</label
                >
              </div>
              <div class="col-2 px-md-1">
                <label
                  class="font-weight-bold text-small"
                  data-toggle="tooltip"
                  data-placement="bottom"
                  title="Quantidade"
                  >Qtd</label
                >
              </div>
            </div>
          </div>

          <div class="col-2 px-md-1">
            <div class="row">
              <div class="col-3 px-md-1">
                <label
                  class="font-weight-bold text-small"
                  data-toggle="tooltip"
                  data-placement="bottom"
                  title="Sigla Unidade Medida"
                  >UM</label
                >
              </div>

              <div class="col-2 px-md-1">
                <label
                  class="font-weight-bold text-small"
                  data-toggle="tooltip"
                  data-placement="bottom"
                  title="Moeda"
                  >$</label
                >
              </div>

              <div class="col-3 px-md-1">
                <label
                  class="font-weight-bold text-small"
                  data-toggle="tooltip"
                  data-placement="bottom"
                  title="Valor Total"
                  >Total</label
                >
              </div>

              <div class="col-4 px-md-1">
                <label
                  class="font-weight-bold text-small"
                  data-toggle="tooltip"
                  data-placement="bottom"
                  title="Comprador">Comprad.
                </label>
              </div>
            </div>
          </div>

          <div class="col-2 px-md-1">
            <div class="row">
              <div class="col-4 px-md-1">
                <label
                  class="font-weight-bold text-small"
                  data-toggle="tooltip"
                  data-placement="bottom"
                  title="Centro"
                  >Centro</label
                >
              </div>
              <div class="col-4 px-md-1">
                <label
                  class="font-weight-bold text-small"
                  data-toggle="tooltip"
                  data-placement="bottom"
                  title="Centro"
                  >Cotação</label
                >
              </div>
              <div class="col-4 px-md-1">
                <label
                  class="font-weight-bold text-small"
                  data-toggle="tooltip"
                  data-placement="bottom"
                  title="Requisitante"
                >
                  <span class="d-sm-none d-xl-inline-block">Pedido</span>
                </label>
              </div>
            </div>
          </div>

          <div class="col-1 px-md-1">
            <div class="row">
              <div class="col px-md-1">
                <label
                  class="font-weight-bold text-small"
                  data-toggle="tooltip"
                  data-placement="bottom"
                  title="SLA"
                  >SLA</label
                >
              </div>
            </div>
          </div>

          <div class="col-1 px-md-1">
            <div class="row">
              <!-- <div class="col-6 pl-md-2 pr-md-1">
                <label
                  class="font-weight-bold text-small"
                  data-toggle="tooltip"
                  data-placement="bottom"
                  title="RCP"
                  >R C P</label
                >
              </div> -->
              <div class="col-12 px-md-1">
                <label
                  class="font-weight-bold text-small"
                  data-toggle="tooltip"
                  data-placement="bottom"
                  title="Situação"
                >
                  <span class="d-sm-inline-block d-xl-none">Situaç.</span>
                  <span class="d-sm-none d-xl-inline-block">Situação</span>
                </label>
              </div>
            </div>
          </div>
        </div>

        <div
          class="bg-white border-bottom row py-4 py-md-1"
          *ngFor="let item of itensAcompanhamentos; let i = index"
        >
          <div class="col-12 col-md-2 px-md-1">
            <div class="row-10-col">
              <div class="col-5 col-md-2 px-md-1">
                <label for="" class="font-weight-bold d-block d-md-none">Tipo de RC</label>
                <p
                  class="mb-3 mb-lg-0 text-small"
                  data-toggle="tooltip"
                  title="{{ item.sigla ? item?.sigla : item?.tipoDocumentoSolicitacaoCompra }}"
                >
                  {{ item.sigla ? item?.sigla : item?.tipoDocumentoSolicitacaoCompra }}
                </p>
              </div>
              <div class="col-5 col-md-4 px-md-1">
                <label for="" class="font-weight-bold d-block d-md-none">Código RC</label>
                <p
                  class="mb-3 mb-lg-0 text-truncate text-small font-weight-bold btn btn-link pl-0 text-left"
                  data-toggle="tooltip"
                  title="{{ item.codigoSolicitacaoCompra }}"
                  (click)="navegarOrigemSolicitacaoCompra(item.idSolicitacaoCompra)"
                >
                  {{ item.codigoSolicitacaoCompra }}
                </p>
              </div>

              <div class="col-5 col-md-4 px-md-1">
                <label for="" class="font-weight-bold d-block d-md-none">Código Item RC</label>
                <p
                  class="mb-3 mb-lg-0 text-small"
                  data-toggle="tooltip"
                  title="{{ item.codigoItemSolicitacaoCompra }}"
                >
                  {{ item.codigoItemSolicitacaoCompra }}
                </p>
              </div>
            </div>
          </div>

          <div class="col-12 col-md-2 px-md-1">
            <div class="row">
              <div class="col-12 col-md-7 px-md-1">
                <label for="" class="font-weight-bold d-block d-md-none"
                  >Descrição do Item RC</label
                >
                <p
                  class="mb-3 mb-lg-0 text-small"
                  data-toggle="tooltip"
                  title="{{
                    item.descricaoItemSolicitacaoCompra ? item.descricaoItemSolicitacaoCompra : '--'
                  }} "
                >
                  {{
                    item.descricaoItemSolicitacaoCompra ? item.descricaoItemSolicitacaoCompra : '--'
                  }}
                </p>
              </div>
              <div class="col-12 col-md-5 px-md-1">
                <label for="" class="font-weight-bold d-block d-md-none">Código Fornecedor</label>
                <p
                  class="mb-3 mb-lg-0 text-small"
                  data-toggle="tooltip"
                  title="{{ item?.razaoSocial ? item?.razaoSocial : '--' }}"
                >
                  {{ item.fornecedorFixo ? item.fornecedorFixo : '--' }}
                </p>
              </div>
            </div>
          </div>

          <div class="col-12 col-md-2 px-md-1">
            <div class="row">
              <div class="col-6 col-md-1 px-md-1">
                <label for="" class="font-weight-bold d-block d-md-none"
                  >Classificação Contábil</label
                >
                <p
                  class="mb-3 mb-lg-0 text-small"
                  data-toggle="tooltip"
                  title=" {{ item.codigoClassificacaoContabil }}"
                >
                  {{ item.codigoClassificacaoContabil }}
                </p>
              </div>
              <div class="col-6 col-md-3 px-md-1">
                <label for="" class="font-weight-bold d-block d-md-none">Grupo Compradores</label>
                <p
                  class="mb-3 mb-lg-0 text-small"
                  data-toggle="tooltip"
                  title="{{ item.codigoComprador }}"
                >
                  {{ item.codigoComprador }}
                </p>
              </div>
              <div class="col-6 col-md-6 px-md-1">
                <label for="" class="font-weight-bold d-block d-md-none"
                  >Categoria da Demanda</label
                >
                <p
                  class="mb-3 mb-lg-0 text-small"
                  data-toggle="tooltip"
                  title="{{ item.categoriaDemanda }}"
                >
                  {{ item.categoriaDemanda }}
                </p>
              </div>
              <div class="col-6 col-md-2 px-md-1">
                <label for="" class="font-weight-bold d-block d-md-none">Quantidade</label>
                <p
                  class="mb-3 mb-lg-0 text-small"
                  data-toggle="tooltip"
                  title="{{ item.quantidade }}"
                >
                  {{ item.quantidade }}
                </p>
              </div>
            </div>
          </div>

          <div class="col-12 col-md-2 px-md-1">
            <div class="row">
              <div class="col-3 col-md-3 px-md-1">
                <label for="" class="font-weight-bold d-block d-md-none"
                  >Sigla Unidade Medida</label
                >
                <p
                  class="mb-3 mb-lg-0 text-small"
                  data-toggle="tooltip"
                  title="{{ item.siglaUnidadeMedida }}"
                >
                  {{ item.siglaUnidadeMedida }}
                </p>
              </div>
              <div class="col-2 col-md-2 px-md-1">
                <label for="" class="font-weight-bold d-block d-md-none">Moeda</label>
                <p
                  class="mb-3 mb-lg-0 text-truncate text-small"
                  data-toggle="tooltip"
                  data-placement="bottom"
                  title="{{ Moeda[item.moeda.valueOf()] }}"
                >
                  {{ Moeda[item.moeda.valueOf()] }}
                </p>
              </div>
              <div class="col-3 col-md-3 px-md-1">
                <label for="" class="font-weight-bold d-block d-md-none">Valor Total</label>
                <p
                  class="mb-3 mb-lg-0 text-truncate text-small"
                  data-toggle="tooltip"
                  data-placement="bottom"
                  title="{{ item.valorReferencia * item.quantidade | customCurrency }}"
                >
                  {{ item.valorReferencia * item.quantidade | customCurrency }}
                </p>
              </div>
              <div class="col-8 col-md-4 px-md-1">
                <label for="" class="font-weight-bold d-block d-md-none">Comprador</label>
                <p
                  class="mb-3 mb-lg-0 text-small"
                  data-toggle="tooltip"
                   title="{{ item.nomeResponsavel ? item.nomeResponsavel : ''}}">
                  {{ item.nomeResponsavel ? item.nomeResponsavel : ''}}
                </p>
              </div>
            </div>
          </div>

          <div class="col-12 col-md-2 px-md-1">
            <div class="row">
              <div class="col-6 col-md-4 px-md-1">
                <label for="" class="font-weight-bold d-block d-md-none">Centro</label>
                <p
                  class="mb-3 mb-lg-0 text-truncate text-small"
                  data-toggle="tooltip"
                  data-placement="bottom"
                  title="{{ item?.codigoFilialEmpresa }}"
                >
                  {{ item?.codigoFilialEmpresa }}
                </p>
              </div>
              <div class="col-6 col-md-4 px-md-1">
                <label for="" class="font-weight-bold d-block d-md-none">Cotação</label>
                <p
                  class="mb-3 mb-lg-0 text-truncate text-small font-weight-bold btn btn-link pl-0 text-left"
                  data-toggle="tooltip"
                  data-placement="bottom"
                  title="Cotação: {{
                    item.situacaoCotacao != SituacaoCotacao.Cancelada ? item?.idCotacao : null
                  }}"
                  (click)="
                    navegarOrigemCotacao(
                      item.situacaoCotacao != SituacaoCotacao.Cancelada ? item?.idCotacao : null
                    )
                  "
                >
                  {{
                    item?.idCotacao && item.situacaoCotacao != SituacaoCotacao.Cancelada
                      ? item.idCotacao
                      : '--'
                  }}
                </p>
              </div>
              <div class="col-6 col-md-4 px-md-1">
                <label for="" class="font-weight-bold d-block d-md-none">Pedido</label>
                <p
                  class="mb-3 mb-lg-0 text-truncate text-small font-weight-bold btn btn-link pl-0 text-left"
                  data-toggle="tooltip"
                  data-placement="bottom"
                  title="Pedido: {{
                    item.situacaoPedido != SituacaoPedido.Cancelado ? item?.idPedido : null
                  }}"
                  (click)="navegarOrigemPedido(item?.idPedido)"
                >
                  {{
                    item?.idPedido && item.situacaoPedido != SituacaoPedido.Cancelado
                      ? item.idPedido
                      : '--'
                  }}
                </p>
              </div>
            </div>
          </div>

          <div class="col-12 col-md-1 px-md-1">
            <div class="row">
              <div class="col px-md-1">
                <contador-sla
                  *ngIf="
                    item.sla &&
                    [
                      SituacaoSolicitacaoItemCompra.Nova,
                      SituacaoSolicitacaoItemCompra.Aberta,
                      SituacaoSolicitacaoItemCompra.Disponivel
                    ].includes(item.situacaoSolicitacaoItem)
                  "
                  [tempoSla]="item.sla"
                  [unidadeMedidaTempoSla]="item.slaItemUnidadeMedidaTempo"
                  [ultimoRegistroInicioSla]="item.dataHoraSla"
                >
                </contador-sla>
              </div>
            </div>
          </div>

          <div class="col-12 col-md-1 px-md-1">
            <div class="row">
              <div class="col-12 col-md-12 px-md-1">
                <label for="" class="font-weight-bold d-block d-md-none">Situação</label>
                <ng-container
                  *ngIf="
                    item?.idPedido && item.situacaoPedido != SituacaoPedido.Cancelado;
                    else elseBlock
                  "
                >
                  <p class="mb-3 mb-lg-0 text-small">
                    {{ item?.situacaoPedido | situacaoPedido }}
                  </p>
                </ng-container>
                <ng-template #elseBlock>
                  <ng-container
                    *ngIf="
                      item?.idCotacao &&
                      !item?.idPedido &&
                      item.situacaoCotacao != SituacaoCotacao.Cancelada
                    "
                  >
                    <p class="mb-3 mb-lg-0 text-small">
                      {{ item?.situacaoCotacao ? situacaoCotacao(item) : '--' }}
                    </p>
                  </ng-container>
                  <ng-container
                    *ngIf="
                      (!item?.idPedido && !item?.idCotacao) ||
                      item.situacaoPedido == SituacaoPedido.Cancelado ||
                      item.situacaoCotacao == SituacaoCotacao.Cancelada
                    "
                  >
                    <p
                      class="mb-3 mb-lg-0 text-small line-clamp line-clamp-1"
                      [class.text-warning]="
                        item.situacaoSolicitacaoItem == SituacaoSolicitacaoItemCompra.Nova
                      "
                      [class.text-success]="
                        item.situacaoSolicitacaoItem == SituacaoSolicitacaoItemCompra.Concluida
                      "
                      [class.text-danger]="
                        item.situacaoSolicitacaoItem == SituacaoSolicitacaoItemCompra.Cancelada
                      "
                      [class.text-primary]="
                        item.situacaoSolicitacaoItem == SituacaoSolicitacaoItemCompra.Disponivel
                      "
                    >
                      {{
                        item.situacaoSolicitacaoItem
                          ? SituacaoSolicitacaoItemCompra[item.situacaoSolicitacaoItem]
                          : '--'
                      }}
                    </p>
                  </ng-container>
                </ng-template>
              </div>
            </div>
          </div>
        </div>
      </ng-template>
    </div>
  </div>
</div>
