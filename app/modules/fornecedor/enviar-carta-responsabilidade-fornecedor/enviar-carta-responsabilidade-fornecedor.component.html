<div class="modal-header">
  <div class="modal-title" id="modal-basic-title">Carta de Responsabilidade</div>
  <button type="button" class="close" aria-label="Close" (click)="fecharModal()">
    <i class="fas fa-times"></i>
  </button>
</div>
<div class="modal-body">
  <form [formGroup]="form">
    <div class="form-group required">
      <div class="form-row align-items-center">
        <div class="col-12">
          <label>Gestor de Compras:</label>
        </div>
        <div class="col-12">
          <ng-select
            [ngClass]="{ disabled: disabledForViewLetter() }"
            name="idUsuarioDestinatario"
            formControlName="idUsuarioDestinatario"
            [items]="usuariosGestoresParaDestinatario"
            [class.invalid]="
              form.controls.idUsuarioDestinatario.invalid &&
              form.controls.idUsuarioDestinatario.dirty
            "
            bindLabel="pessoaFisica.nome"
            bindValue="idUsuario"
          >
          </ng-select>
        </div>
      </div>
    </div>
    <div class="form-group required">
      <label>Conte√∫do:</label>
      <textarea
        [ngClass]="{ disabled: disabledForViewLetter() }"
        class="form-control"
        rows="3"
        name="conteudo"
        formControlName="conteudo"
      ></textarea>
    </div>
    <div class="row">
      <div
        class="form-group col-12"
        *ngIf="!form.controls.anexos.disabled || form.getRawValue().anexos?.length"
      >
        <label class="pr-2"> Anexar Arquivo: </label>
        <input-file
          [ngClass]="{ disabled: disabledForViewLetter() }"
          [multiple]="false"
          accept=".csv,.tiff,.txt,.pdf,.xlsx,.xls,.pptx,.ppt,.docx,.doc,.odt,.ods,.odp,.png,.jpeg,.jpg"
          (select)="incluirArquivos($event)"
          *ngIf="!form.controls.anexos.disabled"
        ></input-file>
      </div>
      <div class="form-group col-12">
        <galeria-arquivos
          [arquivos]="form.controls.anexos.value"
          (excluir)="excluirArquivo($event)"
          [disabled]="form.controls.anexos.disabled"
        >
        </galeria-arquivos>
      </div>
    </div>
  </form>
  <div class="modal-footer" *ngIf="!ViewLatter">
    <button type="button" class="btn btn-outline-primary" (click)="enviar()">Enviar</button>
  </div>
</div>
